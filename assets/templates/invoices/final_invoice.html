<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>ÙØ§ØªÙˆØ±Ø© {{ invoice_number }}</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        @page { 
            size: A4; 
            margin: 0; 
        }
        
        * { 
            box-sizing: border-box; 
            -webkit-print-color-adjust: exact !important; 
            print-color-adjust: exact !important; 
        }
        
        body { 
            margin: 0; 
            padding: 0; 
            background-color: #fff; 
            font-family: 'Cairo', sans-serif; 
            font-size: 14px; 
            color: #333; 
        }
        
        .page { 
            width: 210mm; 
            min-height: 297mm; 
            padding: 15mm; 
            margin: 0 auto; 
            background: white; 
            position: relative; 
        }
        
        header { 
            display: flex; 
            justify-content: space-between; 
            align-items: flex-start; 
            margin-bottom: 40px; 
        }
        
        .header-left { 
            background: #fcfcfc; 
            border: 1px solid #eee; 
            border-radius: 10px; 
            padding: 15px 25px; 
            text-align: center; 
            min-width: 200px; 
        }
        
        .invoice-number { 
            color: #1a237e; 
            font-size: 18px; 
            font-weight: 800; 
            margin: 0; 
        }
        
        .header-right { 
            display: flex; 
            align-items: center; 
            gap: 15px; 
        }
        
        .logo-img { 
            width: 60px; 
        }
        
        .company-title h1 { 
            margin: 0; 
            font-size: 22px; 
            color: #1a237e; 
            font-weight: 800; 
        }
        
        .info-section { 
            display: flex; 
            gap: 20px; 
            margin-bottom: 30px; 
        }
        
        .info-card { 
            flex: 1; 
            background: #f8faff; 
            padding: 20px; 
            border-radius: 12px; 
            border-right: 5px solid #4a90e2; 
        }
        
        .card-title { 
            color: #1a5f7a; 
            font-weight: 800; 
            margin-bottom: 15px; 
        }
        
        .info-row { 
            display: flex; 
            justify-content: space-between; 
            margin-bottom: 8px; 
        }
        
        .main-table { 
            width: 100%; 
            border-collapse: separate; 
            border-spacing: 0; 
            margin-bottom: 30px; 
            border: 1px solid #e0e0e0; 
            border-radius: 8px; 
            overflow: hidden; 
        }
        
        .main-table th { 
            background-color: #2b4c85; 
            color: white; 
            padding: 12px; 
            text-align: center; 
        }
        
        .main-table td { 
            padding: 12px; 
            text-align: center; 
            border-bottom: 1px solid #eee; 
        }
        
        .totals-container { 
            width: 40%; 
            margin-right: auto; 
            margin-left: 0; 
            border: 1px solid #eee; 
            border-radius: 8px; 
        }
        
        .total-row { 
            display: flex; 
            justify-content: space-between; 
            padding: 12px 20px; 
            border-bottom: 1px solid #eee; 
        }
        
        .bg-blue-dark { 
            background-color: #2b4c85; 
            color: white; 
        }
        
        footer { 
            margin-top: 50px; 
            padding-top: 10px; 
            border-top: 3px solid #4a90e2; 
        }
    </style>
</head>
<body>
    <div class="page">
        <header>
            <div class="header-right">
                <img src="{{ logo_path }}" alt="Logo" class="logo-img">
                <div class="company-title">
                    <h1>{{ company_name }}</h1>
                    <span>{{ company_tagline }}</span>
                </div>
            </div>
            <div class="header-left">
                <div style="color:#666">Ø±Ù‚Ù… Ø§Ù„ÙØ§ØªÙˆØ±Ø©</div>
                <div class="invoice-number">{{ invoice_number }}</div>
            </div>
        </header>

        <div class="info-section">
            <div class="info-card">
                <div class="card-title">ğŸ“ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„</div>
                <div class="info-row"><span>Ø§Ù„Ø§Ø³Ù…:</span> <b>{{ client_name }}</b></div>
                <div class="info-row"><span>Ø§Ù„Ù‡Ø§ØªÙ:</span> <b>{{ client_phone }}</b></div>
                <div class="info-row"><span>Ø§Ù„Ø¹Ù†ÙˆØ§Ù†:</span> <b>{{ client_address }}</b></div>
            </div>
            <div class="info-card">
                <div class="card-title">ğŸ§¾ ØªÙØ§ØµÙŠÙ„ Ø§Ù„ÙØ§ØªÙˆØ±Ø©</div>
                <div class="info-row"><span>Ø§Ù„ØªØ§Ø±ÙŠØ®:</span> <b>{{ date }}</b></div>
                <div class="info-row"><span>Ø§Ù„Ù…Ø´Ø±ÙˆØ¹:</span> <b>{{ project_name }}</b></div>
            </div>
        </div>

        <div class="section-header" style="color:#1a5f7a; font-weight:800; margin-bottom:10px;">ğŸ›’ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø®Ø¯Ù…Ø§Øª</div>
        <table class="main-table">
            <thead>
                <tr>
                    <th>#</th>
                    <th>Ø§Ù„Ø®Ø¯Ù…Ø©</th>
                    <th>Ø§Ù„Ø³Ø¹Ø±</th>
                </tr>
            </thead>
            <tbody>
                {% for item in items %}
                <tr>
                    <td>{{ loop.index }}</td>
                    <td>{{ item.name }}</td>
                    <td>{{ item.price }} Ø¬.Ù…</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>

        <div class="totals-container">
            <div class="total-row"><span>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ:</span> <b>{{ grand_total }} Ø¬.Ù…</b></div>
            <div class="total-row"><span>Ø§Ù„Ù…Ø¯ÙÙˆØ¹:</span> <b style="color:green">{{ total_paid }} Ø¬.Ù…</b></div>
            <div class="total-row bg-blue-dark"><span>Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ:</span> <b>{{ remaining }} Ø¬.Ù…</b></div>
        </div>

        <footer>
            <div style="display:flex; justify-content:space-between; font-weight:bold; color:#1a237e">
                <div>Ø´ÙƒØ±Ø§Ù‹ Ù„Ø«Ù‚ØªÙƒÙ…</div>
                <div>{{ company_address }} | {{ company_phone }}</div>
            </div>
        </footer>
    </div>
</body>
</html>
