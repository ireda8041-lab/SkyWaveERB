# ğŸ“š Sky Wave ERP - Ø§Ù„ØªÙˆØ«ÙŠÙ‚ Ø§Ù„ØªÙ‚Ù†ÙŠ Ø§Ù„Ø´Ø§Ù…Ù„

> **Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«:** 2025-12-06 | **Ø§Ù„Ø¥ØµØ¯Ø§Ø±:** 1.0.3

## ğŸ¯ Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©

**Sky Wave ERP** Ù‡Ùˆ Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ù…ÙˆØ§Ø±Ø¯ Ø§Ù„Ù…Ø¤Ø³Ø³Ø§Øª (Enterprise Resource Planning) Ù…Ø¨Ù†ÙŠ Ø¨Ù€ Python Ùˆ PyQt6ØŒ Ù…ØµÙ…Ù… Ø®ØµÙŠØµØ§Ù‹ Ù„Ø´Ø±ÙƒØ§Øª Ø§Ù„Ø®Ø¯Ù…Ø§Øª ÙˆØ§Ù„ØªØ³ÙˆÙŠÙ‚ Ø§Ù„Ø±Ù‚Ù…ÙŠ. ÙŠØªÙ…ÙŠØ² Ø¨Ù€:

- âœ… **Offline-First**: ÙŠØ¹Ù…Ù„ Ø¨ÙƒØ§Ù…Ù„ ÙˆØ¸Ø§Ø¦ÙÙ‡ Ø¨Ø¯ÙˆÙ† Ø¥Ù†ØªØ±Ù†Øª
- âœ… **Auto-Sync**: Ù…Ø²Ø§Ù…Ù†Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ© Ø°ÙƒÙŠØ© Ù…Ø¹ Ø­Ù„ Ø§Ù„ØªØ¹Ø§Ø±Ø¶Ø§Øª
- âœ… **Enterprise Features**: ØªÙƒÙˆÙŠØ¯ Ø°ÙƒÙŠØŒ ØªØ­Ù„ÙŠÙ„ Ø±Ø¨Ø­ÙŠØ©ØŒ Ø¯ÙØ¹Ø§Øª Ù…Ø±Ø­Ù„ÙŠØ©
- âœ… **Ù…Ø­Ø§Ø³Ø¨Ø© Ø¢Ù„ÙŠØ©**: Ù‚ÙŠÙˆØ¯ ÙŠÙˆÙ…ÙŠØ© ØªÙ„Ù‚Ø§Ø¦ÙŠØ© Ù„ÙƒÙ„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ù…Ø§Ù„ÙŠØ©
- âœ… **ÙˆØ§Ø¬Ù‡Ø© Ø¹Ø±Ø¨ÙŠØ©**: Ø¯Ø¹Ù… ÙƒØ§Ù…Ù„ Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© RTL

### Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
| Ø§Ù„Ø¨Ù†Ø¯ | Ø§Ù„Ù‚ÙŠÙ…Ø© |
|-------|--------|
| Ø§Ù„Ø¥ØµØ¯Ø§Ø± | 1.0.3 |
| Ø§Ù„Ù„ØºØ© | Python 3.10+ |
| ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… | PyQt6 + PyQt6-WebEngine |
| Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ© | SQLite (WAL Mode) |
| Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø³Ø­Ø§Ø¨ÙŠØ© | MongoDB Atlas |
| Ø§Ù„ØªØ±Ø®ÙŠØµ | MIT |
| Ø§Ù„Ù…Ø·ÙˆØ± | Sky Wave Agency |

---

## ğŸ—ï¸ Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠØ© (Architecture)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Sky Wave ERP                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                    UI Layer (PyQt6)                          â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚    â”‚
â”‚  â”‚  â”‚Dashboardâ”‚ â”‚Projects â”‚ â”‚Clients  â”‚ â”‚Accounts â”‚ ...        â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜            â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚          â”‚          â”‚          â”‚          â”‚                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                   Services Layer                             â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚    â”‚
â”‚  â”‚  â”‚ProjectServiceâ”‚ â”‚ClientService â”‚ â”‚AccountServiceâ”‚ ...     â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚            â”‚                â”‚                â”‚                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                     Core Layer                               â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚    â”‚
â”‚  â”‚  â”‚Repositoryâ”‚ â”‚EventBus  â”‚ â”‚SyncMgr   â”‚ â”‚Schemas   â”‚        â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚          â”‚                          â”‚                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                   Data Layer                                 â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚    â”‚
â”‚  â”‚  â”‚     SQLite      â”‚â—„â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚     MongoDB     â”‚            â”‚    â”‚
â”‚  â”‚  â”‚   (Primary)     â”‚  Sync   â”‚    (Cloud)      â”‚            â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù…Ø¬Ù„Ø¯Ø§Øª

```
SkyWaveERP/
â”œâ”€â”€ main.py                    # Ù†Ù‚Ø·Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
â”œâ”€â”€ version.py                 # Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¥ØµØ¯Ø§Ø±
â”œâ”€â”€ requirements.txt           # Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª
â”œâ”€â”€ pyproject.toml            # Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ø´Ø±ÙˆØ¹
â”‚
â”œâ”€â”€ core/                      # ğŸ”§ Ø§Ù„Ù†ÙˆØ§Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ repository.py          # Ø¥Ø¯Ø§Ø±Ø© Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
â”‚   â”œâ”€â”€ schemas.py             # Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (Pydantic)
â”‚   â”œâ”€â”€ event_bus.py           # Ù†Ø¸Ø§Ù… Ø§Ù„Ø£Ø­Ø¯Ø§Ø« (Pub/Sub)
â”‚   â”œâ”€â”€ signals.py             # Ø¥Ø´Ø§Ø±Ø§Øª PyQt
â”‚   â”œâ”€â”€ sync_manager.py        # Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ
â”‚   â”œâ”€â”€ advanced_sync_manager.py # Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ù…ØªÙ‚Ø¯Ù…
â”‚   â”œâ”€â”€ smart_sync_manager.py  # Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ø°ÙƒÙŠ (Ø¬Ø¯ÙŠØ¯)
â”‚   â”œâ”€â”€ conflict_resolver.py   # Ø­Ù„ Ø§Ù„ØªØ¹Ø§Ø±Ø¶Ø§Øª (Ø¬Ø¯ÙŠØ¯)
â”‚   â”œâ”€â”€ auto_sync.py           # Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ©
â”‚   â”œâ”€â”€ auth_models.py         # Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©
â”‚   â”œâ”€â”€ logger.py              # Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ³Ø¬ÙŠÙ„
â”‚   â”œâ”€â”€ error_handler.py       # Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡
â”‚   â”œâ”€â”€ validators.py          # Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
â”‚   â””â”€â”€ speed_optimizer.py     # ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø¯Ø§Ø¡ (Cache)
â”‚
â”œâ”€â”€ services/                  # ğŸ¯ Ø·Ø¨Ù‚Ø© Ø§Ù„Ø®Ø¯Ù…Ø§Øª
â”‚   â”œâ”€â”€ accounting_service.py  # Ø®Ø¯Ù…Ø© Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø©
â”‚   â”œâ”€â”€ client_service.py      # Ø®Ø¯Ù…Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡
â”‚   â”œâ”€â”€ project_service.py     # Ø®Ø¯Ù…Ø© Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹
â”‚   â”œâ”€â”€ invoice_service.py     # Ø®Ø¯Ù…Ø© Ø§Ù„ÙÙˆØ§ØªÙŠØ±
â”‚   â”œâ”€â”€ expense_service.py     # Ø®Ø¯Ù…Ø© Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª
â”‚   â”œâ”€â”€ quotation_service.py   # Ø®Ø¯Ù…Ø© Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø£Ø³Ø¹Ø§Ø±
â”‚   â”œâ”€â”€ payment_service.py     # Ø®Ø¯Ù…Ø© Ø§Ù„Ø¯ÙØ¹Ø§Øª
â”‚   â”œâ”€â”€ notification_service.py # Ø®Ø¯Ù…Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
â”‚   â”œâ”€â”€ printing_service.py    # Ø®Ø¯Ù…Ø© Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©
â”‚   â”œâ”€â”€ export_service.py      # Ø®Ø¯Ù…Ø© Ø§Ù„ØªØµØ¯ÙŠØ±
â”‚   â”œâ”€â”€ template_service.py    # Ø®Ø¯Ù…Ø© Ø§Ù„Ù‚ÙˆØ§Ù„Ø¨
â”‚   â””â”€â”€ settings_service.py    # Ø®Ø¯Ù…Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
â”‚
â”œâ”€â”€ ui/                        # ğŸ–¥ï¸ ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
â”‚   â”œâ”€â”€ main_window.py         # Ø§Ù„Ù†Ø§ÙØ°Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
â”‚   â”œâ”€â”€ login_window.py        # Ù†Ø§ÙØ°Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
â”‚   â”œâ”€â”€ dashboard_tab.py       # Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…
â”‚   â”œâ”€â”€ project_manager.py     # Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹
â”‚   â”œâ”€â”€ client_manager.py      # Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡
â”‚   â”œâ”€â”€ accounting_manager.py  # Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª
â”‚   â”œâ”€â”€ expense_manager.py     # Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª
â”‚   â”œâ”€â”€ quotation_manager.py   # Ø¥Ø¯Ø§Ø±Ø© Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø£Ø³Ø¹Ø§Ø±
â”‚   â”œâ”€â”€ payments_manager.py    # Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¯ÙØ¹Ø§Øª
â”‚   â”œâ”€â”€ todo_manager.py        # Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù‡Ø§Ù…
â”‚   â”œâ”€â”€ styles.py              # Ø§Ù„Ø£Ù†Ù…Ø§Ø· ÙˆØ§Ù„Ø£Ù„ÙˆØ§Ù†
â”‚   â””â”€â”€ ...                    # Ù…ÙƒÙˆÙ†Ø§Øª Ø£Ø®Ø±Ù‰
â”‚
â”œâ”€â”€ assets/                    # ğŸ“¦ Ø§Ù„Ù…ÙˆØ§Ø±Ø¯
â”‚   â”œâ”€â”€ font/                  # Ø§Ù„Ø®Ø·ÙˆØ· (Cairo)
â”‚   â”œâ”€â”€ templates/             # Ù‚ÙˆØ§Ù„Ø¨ Ø§Ù„ÙÙˆØ§ØªÙŠØ±
â”‚   â””â”€â”€ *.png                  # Ø§Ù„ØµÙˆØ± ÙˆØ§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª
â”‚
â””â”€â”€ exports/                   # ğŸ“¤ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…ØµØ¯Ø±Ø©
```

---

## ğŸ”§ Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© (Core Components)

### 1. Repository (Ø§Ù„Ù…Ø®Ø²Ù†)
**Ø§Ù„Ù…Ù„Ù:** `core/repository.py`

Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ Ø¹Ù† Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (SQLite + MongoDB).

```python
class Repository:
    """
    Ø§Ù„Ù…Ø®Ø²Ù† Ø§Ù„Ø°ÙƒÙŠ - Offline-First Architecture
    - SQLite: Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© (Ø³Ø±ÙŠØ¹Ø©ØŒ Ù…Ø­Ù„ÙŠØ©)
    - MongoDB: Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø³Ø­Ø§Ø¨ÙŠØ© (Ù„Ù„Ù…Ø²Ø§Ù…Ù†Ø©)
    """
    
    def __init__(self):
        # 1. SQLite Ø£ÙˆÙ„Ø§Ù‹ (Ù„Ø§ Ù†Ù†ØªØ¸Ø± MongoDB)
        self.sqlite_conn = sqlite3.connect(LOCAL_DB_FILE)
        
        # 2. MongoDB ÙÙŠ Background Thread
        self._start_mongo_connection()
```

**Ø§Ù„Ù…ÙŠØ²Ø§Øª:**
- WAL Mode Ù„Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø¹Ø§Ù„ÙŠ
- Cache Ø°ÙƒÙŠ (LRU Cache)
- Ø§ØªØµØ§Ù„ MongoDB ÙÙŠ Ø§Ù„Ø®Ù„ÙÙŠØ©
- Indexes Ù…Ø­Ø³Ù‘Ù†Ø©

---

### 2. Schemas (Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª)
**Ø§Ù„Ù…Ù„Ù:** `core/schemas.py`

Ù†Ù…Ø§Ø°Ø¬ Pydantic Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙƒÙŠØ§Ù†Ø§Øª:

| Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ | Ø§Ù„ÙˆØµÙ |
|---------|-------|
| `Client` | Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ |
| `Project` | Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ |
| `Invoice` | Ø§Ù„ÙÙˆØ§ØªÙŠØ± |
| `Expense` | Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª |
| `Account` | Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª |
| `Payment` | Ø§Ù„Ø¯ÙØ¹Ø§Øª |
| `JournalEntry` | Ø§Ù„Ù‚ÙŠÙˆØ¯ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠØ© |
| `Quotation` | Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø£Ø³Ø¹Ø§Ø± |
| `Task` | Ø§Ù„Ù…Ù‡Ø§Ù… |
| `Notification` | Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª |

```python
class Project(BaseSchema):
    name: str
    client_id: str
    status: ProjectStatus
    items: List[ProjectItem]
    total_amount: float
    # Enterprise Features
    project_code: Optional[str]      # ÙƒÙˆØ¯ Ø°ÙƒÙŠ
    milestones: List[ProjectMilestone]  # Ø¯ÙØ¹Ø§Øª Ù…Ø±Ø­Ù„ÙŠØ©
    profit_margin: float             # Ù‡Ø§Ù…Ø´ Ø§Ù„Ø±Ø¨Ø­
```

---

### 3. Event Bus (Ù†Ø§Ù‚Ù„ Ø§Ù„Ø£Ø­Ø¯Ø§Ø«)
**Ø§Ù„Ù…Ù„Ù:** `core/event_bus.py`

Ù†Ø¸Ø§Ù… Publish-Subscribe Ù„Ù„ØªÙˆØ§ØµÙ„ Ø¨ÙŠÙ† Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª:

```python
# Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ ÙÙŠ Ø­Ø¯Ø«
event_bus.subscribe('PROJECT_CREATED', on_project_created)

# Ù†Ø´Ø± Ø­Ø¯Ø«
event_bus.publish('PROJECT_CREATED', {'name': 'Ù…Ø´Ø±ÙˆØ¹ Ø¬Ø¯ÙŠØ¯'})
```

**Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ù…Ø¯Ø¹ÙˆÙ…Ø©:**
- `CLIENT_CREATED/UPDATED/DELETED`
- `PROJECT_CREATED/UPDATED/DELETED`
- `INVOICE_CREATED/VOIDED`
- `EXPENSE_CREATED/DELETED`
- `PAYMENT_RECORDED`
- `SYNC_COMPLETED/FAILED`

---

### 4. Signals (Ø¥Ø´Ø§Ø±Ø§Øª PyQt)
**Ø§Ù„Ù…Ù„Ù:** `core/signals.py`

Ø¥Ø´Ø§Ø±Ø§Øª Ù„Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙÙˆØ±ÙŠ Ù„Ù„ÙˆØ§Ø¬Ù‡Ø©:

```python
class AppSignals(QObject):
    data_changed = pyqtSignal(str)
    projects_changed = pyqtSignal()
    clients_changed = pyqtSignal()
    sync_completed = pyqtSignal(dict)
```

---


## ğŸ”„ Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© (Sync System)

### Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„Ø¹Ø§Ù…Ø©

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Sync Architecture                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚  â”‚  SyncManager    â”‚    â”‚AdvancedSyncMgr  â”‚                 â”‚
â”‚  â”‚  (Basic Queue)  â”‚    â”‚(Connection+Worker)â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚           â”‚                      â”‚                           â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â”‚                      â”‚                                       â”‚
â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚           â”‚  SmartSyncManager   â”‚  â† Ø¬Ø¯ÙŠØ¯                   â”‚
â”‚           â”‚  (Conflict Resolver)â”‚                           â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â”‚                      â”‚                                       â”‚
â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚           â”‚  ConflictResolver   â”‚  â† Ø¬Ø¯ÙŠØ¯                   â”‚
â”‚           â”‚  (Field-Level Merge)â”‚                           â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1. SyncManager (Ø§Ù„Ù…Ø¯ÙŠØ± Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ)
**Ø§Ù„Ù…Ù„Ù:** `core/sync_manager.py`

```python
class SyncManager:
    """
    Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ
    - Priority Queue Ù„Ù„Ø¹Ù…Ù„ÙŠØ§Øª
    - Retry Logic Ø¹Ù†Ø¯ Ø§Ù„ÙØ´Ù„
    - Push/Pull Ø«Ù†Ø§Ø¦ÙŠ Ø§Ù„Ø§ØªØ¬Ø§Ù‡
    """
    
    def add_to_queue(self, entity_type, entity_id, operation, priority):
        """Ø¥Ø¶Ø§ÙØ© Ø¹Ù…Ù„ÙŠØ© Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±"""
        
    def start_sync(self):
        """Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© ÙÙŠ thread Ù…Ù†ÙØµÙ„"""
        
    def pull_and_merge_all_data(self):
        """Ø³Ø­Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† MongoDB"""
```

### 2. AdvancedSyncManager (Ø§Ù„Ù…Ø¯ÙŠØ± Ø§Ù„Ù…ØªÙ‚Ø¯Ù…)
**Ø§Ù„Ù…Ù„Ù:** `core/advanced_sync_manager.py`

```python
class AdvancedSyncManager(QObject):
    """
    Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ù…ØªÙ‚Ø¯Ù…
    - ConnectionChecker: ÙØ­Øµ Ø§Ù„Ø§ØªØµØ§Ù„ ÙƒÙ„ 10 Ø«ÙˆØ§Ù†ÙŠ
    - SyncWorker: Ø¹Ø§Ù…Ù„ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© ÙÙŠ Ø§Ù„Ø®Ù„ÙÙŠØ©
    - Ø¥Ø´Ø§Ø±Ø§Øª PyQt Ù„Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
    """
    
    # Ø¥Ø´Ø§Ø±Ø§Øª
    connection_status_changed = pyqtSignal(bool)
    sync_status_changed = pyqtSignal(str)
    notification_ready = pyqtSignal(str, str)
```

### 3. SmartSyncManager (Ø§Ù„Ù…Ø¯ÙŠØ± Ø§Ù„Ø°ÙƒÙŠ) ğŸ†•
**Ø§Ù„Ù…Ù„Ù:** `core/smart_sync_manager.py`

```python
class SmartSyncManager(QObject):
    """
    Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ø°ÙƒÙŠ Ù…Ø¹ Ø­Ù„ Ø§Ù„ØªØ¹Ø§Ø±Ø¶Ø§Øª
    - Smart Field-Level Merge
    - ØªØ³Ø¬ÙŠÙ„ Ø§Ù„ØªØ¹Ø§Ø±Ø¶Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø³Ø©
    - Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„ØªØ¹Ø§Ø±Ø¶Ø§Øª
    """
    
    # Ø¥Ø´Ø§Ø±Ø§Øª
    conflict_detected = pyqtSignal(dict)
    critical_conflict = pyqtSignal(dict)
    conflict_resolved = pyqtSignal(dict)
    
    def smart_pull_and_merge(self, collection_name):
        """Ù…Ø²Ø§Ù…Ù†Ø© Ø°ÙƒÙŠØ© Ù…Ø¹ Ø­Ù„ Ø§Ù„ØªØ¹Ø§Ø±Ø¶Ø§Øª"""
        
    def full_smart_sync(self):
        """Ù…Ø²Ø§Ù…Ù†Ø© ÙƒØ§Ù…Ù„Ø© Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„"""
```

### 4. ConflictResolver (Ù…Ø­Ù„Ù„ Ø§Ù„ØªØ¹Ø§Ø±Ø¶Ø§Øª) ğŸ†•
**Ø§Ù„Ù…Ù„Ù:** `core/conflict_resolver.py`

```python
class ConflictResolver:
    """
    Ù…Ø­Ù„Ù„ Ø§Ù„ØªØ¹Ø§Ø±Ø¶Ø§Øª Ø§Ù„Ø°ÙƒÙŠ
    
    Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Smart Field-Level Merge:
    1. ØªØ¹Ø¯ÙŠÙ„Ø§Øª ÙÙŠ Ø­Ù‚ÙˆÙ„ Ù…Ø®ØªÙ„ÙØ© â†’ Ø¯Ù…Ø¬ ØªÙ„Ù‚Ø§Ø¦ÙŠ
    2. ØªØ¹Ø§Ø±Ø¶ ÙÙŠ Ø­Ù‚Ù„ Ø­Ø³Ø§Ø³ â†’ ØªØ³Ø¬ÙŠÙ„ Ù„Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©
    """
    
    # Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø­Ø³Ø§Ø³Ø© (ØªØªØ·Ù„Ø¨ Ù…Ø±Ø§Ø¬Ø¹Ø© ÙŠØ¯ÙˆÙŠØ©)
    CRITICAL_FIELDS = {
        'projects': ['total_amount', 'items', 'milestones'],
        'invoices': ['total_amount', 'items', 'amount_paid'],
        'payments': ['amount', 'date'],
        'expenses': ['amount', 'date'],
    }
    
    def detect_and_resolve(self, table, local, remote):
        """ÙƒØ´Ù ÙˆØ­Ù„ Ø§Ù„ØªØ¹Ø§Ø±Ø¶"""
        
    def get_pending_conflicts(self):
        """Ø¬Ù„Ø¨ Ø§Ù„ØªØ¹Ø§Ø±Ø¶Ø§Øª Ø§Ù„Ù…Ø¹Ù„Ù‚Ø©"""
        
    def resolve_conflict_manually(self, conflict_id, chosen_version):
        """Ø­Ù„ Ø§Ù„ØªØ¹Ø§Ø±Ø¶ ÙŠØ¯ÙˆÙŠØ§Ù‹"""
```

### Ø¬Ø¯ÙˆÙ„ conflict_log

```sql
CREATE TABLE conflict_log (
    id INTEGER PRIMARY KEY,
    table_name TEXT NOT NULL,
    entity_id TEXT NOT NULL,
    entity_name TEXT,
    local_data TEXT,           -- JSON
    remote_data TEXT,          -- JSON
    conflicting_fields TEXT,   -- JSON array
    resolution TEXT,           -- auto_merged, pending_review, etc.
    severity TEXT,             -- low, medium, high, critical
    winner TEXT,               -- local, remote, merged
    resolved_by TEXT,
    resolved_at TEXT,
    created_at TEXT
);
```

---

## ğŸ¯ Ø·Ø¨Ù‚Ø© Ø§Ù„Ø®Ø¯Ù…Ø§Øª (Services Layer)

### 1. AccountingService (Ø®Ø¯Ù…Ø© Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø©)
**Ø§Ù„Ù…Ù„Ù:** `services/accounting_service.py`

```python
class AccountingService:
    """
    Ø®Ø¯Ù…Ø© Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø¢Ù„ÙŠØ©
    - Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù‚ÙŠÙˆØ¯ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠØ© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
    - Ø­Ø³Ø§Ø¨ Ø§Ù„Ø£Ø±ØµØ¯Ø©
    - Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø§Ù„ÙŠØ©
    """
    
    def create_invoice_entry(self, invoice):
        """Ø¥Ù†Ø´Ø§Ø¡ Ù‚ÙŠØ¯ ÙØ§ØªÙˆØ±Ø©"""
        # Ù…Ø¯ÙŠÙ†: Ø§Ù„Ø¹Ù…ÙŠÙ„ (Ø°Ù…Ù… Ù…Ø¯ÙŠÙ†Ø©)
        # Ø¯Ø§Ø¦Ù†: Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª
        
    def create_payment_entry(self, payment):
        """Ø¥Ù†Ø´Ø§Ø¡ Ù‚ÙŠØ¯ Ø¯ÙØ¹Ø©"""
        # Ù…Ø¯ÙŠÙ†: Ø§Ù„Ø¨Ù†Ùƒ/Ø§Ù„Ø®Ø²ÙŠÙ†Ø©
        # Ø¯Ø§Ø¦Ù†: Ø§Ù„Ø¹Ù…ÙŠÙ„ (Ø°Ù…Ù… Ù…Ø¯ÙŠÙ†Ø©)
        
    def create_expense_entry(self, expense):
        """Ø¥Ù†Ø´Ø§Ø¡ Ù‚ÙŠØ¯ Ù…ØµØ±ÙˆÙ"""
        # Ù…Ø¯ÙŠÙ†: Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…ØµØ±ÙˆÙ
        # Ø¯Ø§Ø¦Ù†: Ø§Ù„Ø¨Ù†Ùƒ/Ø§Ù„Ø®Ø²ÙŠÙ†Ø©
```

### 2. ProjectService (Ø®Ø¯Ù…Ø© Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹)
**Ø§Ù„Ù…Ù„Ù:** `services/project_service.py`

```python
class ProjectService:
    """
    Ø®Ø¯Ù…Ø© Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹
    - CRUD Ù„Ù„Ù…Ø´Ø§Ø±ÙŠØ¹
    - Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ§Øª
    - ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø±Ø¨Ø­ÙŠØ©
    """
    
    def create_project(self, project_data):
        """Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø´Ø±ÙˆØ¹ Ø¬Ø¯ÙŠØ¯"""
        
    def calculate_totals(self, items, discount_rate, tax_rate):
        """Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ§Øª"""
        
    def get_project_profitability(self, project_id):
        """ØªØ­Ù„ÙŠÙ„ Ø±Ø¨Ø­ÙŠØ© Ø§Ù„Ù…Ø´Ø±ÙˆØ¹"""
```

### 3. ClientService (Ø®Ø¯Ù…Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡)
```python
class ClientService:
    def create_client(self, client_data)
    def update_client(self, client_id, data)
    def get_client_projects(self, client_id)
    def get_client_balance(self, client_id)
```

### 4. InvoiceService (Ø®Ø¯Ù…Ø© Ø§Ù„ÙÙˆØ§ØªÙŠØ±)
```python
class InvoiceService:
    def create_invoice(self, invoice_data)
    def void_invoice(self, invoice_id)
    def get_invoice_pdf(self, invoice_id)
```

---

## ğŸ–¥ï¸ ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… (UI Layer)

### 1. MainWindow (Ø§Ù„Ù†Ø§ÙØ°Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©)
**Ø§Ù„Ù…Ù„Ù:** `ui/main_window.py`

```python
class MainWindow(QMainWindow):
    """
    Ø§Ù„Ù†Ø§ÙØ°Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù„Ù„ØªØ·Ø¨ÙŠÙ‚
    - Ø´Ø±ÙŠØ· Ø¬Ø§Ù†Ø¨ÙŠ Ù„Ù„ØªÙ†Ù‚Ù„
    - ØªØ¨ÙˆÙŠØ¨Ø§Øª Ù„Ù„Ø£Ù‚Ø³Ø§Ù… Ø§Ù„Ù…Ø®ØªÙ„ÙØ©
    - Ø´Ø±ÙŠØ· Ø§Ù„Ø­Ø§Ù„Ø© (Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©ØŒ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª)
    """
```

### 2. Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©

| Ø§Ù„ØªØ¨ÙˆÙŠØ¨ | Ø§Ù„Ù…Ù„Ù | Ø§Ù„ÙˆØ¸ÙŠÙØ© |
|---------|-------|---------|
| Dashboard | `dashboard_tab.py` | Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª |
| Projects | `project_manager.py` | Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ |
| Clients | `client_manager.py` | Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ |
| Accounts | `accounting_manager.py` | Ø´Ø¬Ø±Ø© Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª |
| Expenses | `expense_manager.py` | Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª |
| Quotations | `quotation_manager.py` | Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø£Ø³Ø¹Ø§Ø± |
| Payments | `payments_manager.py` | Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¯ÙØ¹Ø§Øª |
| Tasks | `todo_manager.py` | Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù‡Ø§Ù… |
| Settings | `settings_tab.py` | Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª |

### 3. Ø§Ù„Ø£Ù†Ù…Ø§Ø· ÙˆØ§Ù„Ø£Ù„ÙˆØ§Ù†
**Ø§Ù„Ù…Ù„Ù:** `ui/styles.py`

```python
COLORS = {
    'bg_dark': '#0a1929',      # Ø§Ù„Ø®Ù„ÙÙŠØ© Ø§Ù„Ø¯Ø§ÙƒÙ†Ø©
    'bg_medium': '#132f4c',    # Ø§Ù„Ø®Ù„ÙÙŠØ© Ø§Ù„Ù…ØªÙˆØ³Ø·Ø©
    'primary': '#5090d3',      # Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ
    'success': '#66bb6a',      # Ø§Ù„Ù†Ø¬Ø§Ø­
    'warning': '#ffa726',      # Ø§Ù„ØªØ­Ø°ÙŠØ±
    'danger': '#f44336',       # Ø§Ù„Ø®Ø·Ø±
    'text_primary': '#ffffff', # Ø§Ù„Ù†Øµ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ
}
```

---

## ğŸ” Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© (Authentication)

**Ø§Ù„Ù…Ù„Ù:** `core/auth_models.py`

```python
class UserRole(str, Enum):
    ADMIN = "admin"           # ØµÙ„Ø§Ø­ÙŠØ§Øª ÙƒØ§Ù…Ù„Ø©
    ACCOUNTANT = "accountant" # Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø© ÙÙ‚Ø·
    SALES = "sales"           # Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª ÙÙ‚Ø·
    VIEWER = "viewer"         # Ø¹Ø±Ø¶ ÙÙ‚Ø·

class AuthService:
    def login(self, username, password) -> User
    def logout(self)
    def check_permission(self, user, permission) -> bool
    def hash_password(self, password) -> str
```

---

## ğŸ“Š Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

### Ø¬Ø¯Ø§ÙˆÙ„ SQLite

| Ø§Ù„Ø¬Ø¯ÙˆÙ„ | Ø§Ù„ÙˆØµÙ |
|--------|-------|
| `accounts` | Ø´Ø¬Ø±Ø© Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª |
| `clients` | Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ |
| `services` | Ø§Ù„Ø®Ø¯Ù…Ø§Øª |
| `projects` | Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ |
| `invoices` | Ø§Ù„ÙÙˆØ§ØªÙŠØ± |
| `expenses` | Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª |
| `payments` | Ø§Ù„Ø¯ÙØ¹Ø§Øª |
| `journal_entries` | Ø§Ù„Ù‚ÙŠÙˆØ¯ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠØ© |
| `quotations` | Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø£Ø³Ø¹Ø§Ø± |
| `tasks` | Ø§Ù„Ù…Ù‡Ø§Ù… |
| `notifications` | Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª |
| `users` | Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† |
| `sync_queue` | Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© |
| `conflict_log` | Ø³Ø¬Ù„ Ø§Ù„ØªØ¹Ø§Ø±Ø¶Ø§Øª |
| `invoice_numbers` | Ø£Ø±Ù‚Ø§Ù… Ø§Ù„ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ø«Ø§Ø¨ØªØ© |

### Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© (ÙÙŠ ÙƒÙ„ Ø¬Ø¯ÙˆÙ„)

```sql
_mongo_id TEXT,              -- Ù…Ø¹Ø±Ù MongoDB
sync_status TEXT,            -- new_offline, synced, modified_offline
created_at TEXT,
last_modified TEXT
```

---


## âš¡ ØªØ­Ø³ÙŠÙ†Ø§Øª Ø§Ù„Ø£Ø¯Ø§Ø¡

### 1. SQLite Optimizations
```python
# WAL Mode Ù„Ù„Ù‚Ø±Ø§Ø¡Ø©/Ø§Ù„ÙƒØªØ§Ø¨Ø© Ø§Ù„Ù…ØªØ²Ø§Ù…Ù†Ø©
PRAGMA journal_mode=WAL

# Cache ÙƒØ¨ÙŠØ±
PRAGMA cache_size=10000

# Memory-mapped I/O
PRAGMA mmap_size=268435456  # 256MB

# Synchronous Ù…Ø¹ØªØ¯Ù„
PRAGMA synchronous=NORMAL
```

### 2. LRU Cache
**Ø§Ù„Ù…Ù„Ù:** `core/speed_optimizer.py`

```python
class LRUCache:
    """
    Cache Ø°ÙƒÙŠ Ù…Ø¹ TTL
    - maxsize: Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ù„Ø¹Ù†Ø§ØµØ±
    - ttl_seconds: Ù…Ø¯Ø© Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©
    """
    
# Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù€ decorator
@cached(cache_name='clients', ttl=60)
def get_all_clients():
    ...
```

### 3. Background Threading
```python
# MongoDB connection ÙÙŠ Ø§Ù„Ø®Ù„ÙÙŠØ©
threading.Thread(target=connect_mongo, daemon=True).start()

# Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© ÙÙŠ Ø§Ù„Ø®Ù„ÙÙŠØ©
threading.Thread(target=sync_worker, daemon=True).start()
```

### 4. Indexes
```sql
-- Clients
CREATE INDEX idx_clients_name ON clients(name);
CREATE INDEX idx_clients_status ON clients(status);

-- Projects
CREATE INDEX idx_projects_client ON projects(client_id);
CREATE INDEX idx_projects_status ON projects(status);

-- Sync Queue
CREATE INDEX idx_sync_queue_status ON sync_queue(status);
CREATE INDEX idx_sync_queue_priority ON sync_queue(priority, status);
```

---

## ğŸ”” Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª

**Ø§Ù„Ù…Ù„Ù:** `services/notification_service.py`

```python
class NotificationService:
    """
    Ø®Ø¯Ù…Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
    - Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ Ø§Ù„Ù…Ø³ØªØ­Ù‚Ø©
    - Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ø¯ÙØ¹Ø§Øª
    - Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©
    """
    
    def create_notification(self, title, message, type, priority)
    def get_unread_notifications(self)
    def mark_as_read(self, notification_id)
    def check_due_projects(self)  # ÙØ­Øµ Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ Ø§Ù„Ù…Ø³ØªØ­Ù‚Ø©
```

### Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
```python
class NotificationType(str, Enum):
    INFO = "Ù…Ø¹Ù„ÙˆÙ…Ø©"
    WARNING = "ØªØ­Ø°ÙŠØ±"
    ERROR = "Ø®Ø·Ø£"
    SUCCESS = "Ù†Ø¬Ø§Ø­"
    PROJECT_DUE = "Ù…ÙˆØ¹Ø¯_Ø§Ø³ØªØ­Ù‚Ø§Ù‚_Ù…Ø´Ø±ÙˆØ¹"
    PAYMENT_RECEIVED = "Ø¯ÙØ¹Ø©_Ù…Ø³ØªÙ„Ù…Ø©"
    SYNC_FAILED = "ÙØ´Ù„_Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©"
```

---

## ğŸ–¨ï¸ Ù†Ø¸Ø§Ù… Ø§Ù„Ø·Ø¨Ø§Ø¹Ø© ÙˆØ§Ù„ØªØµØ¯ÙŠØ±

### 1. PrintingService
**Ø§Ù„Ù…Ù„Ù:** `services/printing_service.py`

```python
class PrintingService:
    """
    Ø®Ø¯Ù…Ø© Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©
    - Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„ÙÙˆØ§ØªÙŠØ±
    - Ø·Ø¨Ø§Ø¹Ø© Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø£Ø³Ø¹Ø§Ø±
    - Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±
    """
    
    def print_invoice(self, invoice_id)
    def print_quotation(self, quotation_id)
    def print_report(self, report_data)
```

### 2. ExportService
**Ø§Ù„Ù…Ù„Ù:** `services/export_service.py`

```python
class ExportService:
    """
    Ø®Ø¯Ù…Ø© Ø§Ù„ØªØµØ¯ÙŠØ±
    - ØªØµØ¯ÙŠØ± PDF
    - ØªØµØ¯ÙŠØ± Excel
    - ØªØµØ¯ÙŠØ± HTML
    """
    
    def export_to_pdf(self, data, template)
    def export_to_excel(self, data, filename)
```

### 3. TemplateService
**Ø§Ù„Ù…Ù„Ù:** `services/template_service.py`

```python
class TemplateService:
    """
    Ø®Ø¯Ù…Ø© Ø§Ù„Ù‚ÙˆØ§Ù„Ø¨ (Jinja2)
    - Ù‚ÙˆØ§Ù„Ø¨ Ø§Ù„ÙÙˆØ§ØªÙŠØ±
    - Ù‚ÙˆØ§Ù„Ø¨ Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø£Ø³Ø¹Ø§Ø±
    """
    
    def render_invoice(self, invoice_data)
    def render_quotation(self, quotation_data)
```

---

## ğŸ”„ Ø¯ÙˆØ±Ø© Ø­ÙŠØ§Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

### 1. Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø´Ø±ÙˆØ¹ Ø¬Ø¯ÙŠØ¯

```
User Input â†’ ProjectService.create_project()
                    â”‚
                    â”œâ”€â†’ Validate Data
                    â”‚
                    â”œâ”€â†’ Save to SQLite (sync_status='new_offline')
                    â”‚
                    â”œâ”€â†’ Add to SyncQueue
                    â”‚
                    â”œâ”€â†’ EventBus.publish('PROJECT_CREATED')
                    â”‚
                    â””â”€â†’ AppSignals.projects_changed.emit()
                              â”‚
                              â””â”€â†’ UI Updates
```

### 2. Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©

```
ConnectionChecker detects: Online
        â”‚
        â–¼
SyncWorker.perform_sync()
        â”‚
        â”œâ”€â†’ Get pending items from sync_queue
        â”‚
        â”œâ”€â†’ For each item:
        â”‚       â”‚
        â”‚       â”œâ”€â†’ SmartSyncManager.smart_pull_and_merge()
        â”‚       â”‚
        â”‚       â”œâ”€â†’ ConflictResolver.detect_and_resolve()
        â”‚       â”‚       â”‚
        â”‚       â”‚       â”œâ”€â†’ No conflict â†’ Auto merge
        â”‚       â”‚       â”‚
        â”‚       â”‚       â””â”€â†’ Critical conflict â†’ Log for review
        â”‚       â”‚
        â”‚       â””â”€â†’ Update sync_status='synced'
        â”‚
        â””â”€â†’ Emit sync_completed signal
```

### 3. Ø­Ù„ Ø§Ù„ØªØ¹Ø§Ø±Ø¶Ø§Øª

```
Conflict Detected
        â”‚
        â”œâ”€â†’ Compare local vs remote
        â”‚
        â”œâ”€â†’ Find changed fields
        â”‚
        â”œâ”€â†’ Check if critical fields
        â”‚       â”‚
        â”‚       â”œâ”€â†’ Non-critical â†’ Auto merge (LWW)
        â”‚       â”‚
        â”‚       â””â”€â†’ Critical â†’ Log to conflict_log
        â”‚                       â”‚
        â”‚                       â””â”€â†’ Emit critical_conflict signal
        â”‚                               â”‚
        â”‚                               â””â”€â†’ User reviews & resolves
        â”‚
        â””â”€â†’ Apply merged data
```

---

## ğŸ› ï¸ Ø§Ù„ØªØ·ÙˆÙŠØ± ÙˆØ§Ù„Ø¨Ù†Ø§Ø¡

### ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
```bash
python main.py
```

### Ø¨Ù†Ø§Ø¡ Ø§Ù„Ù€ Executable
```bash
pyinstaller SkyWaveERP.spec
```

### Ø¥Ù†Ø´Ø§Ø¡ Installer
```bash
# Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Inno Setup
iscc SkyWaveERP_Setup.iss
```

### Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª
```bash
pytest tests/ -v
```

---

## ğŸ“ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ù…Ù‡Ù…Ø©

### 1. Offline-First
- Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ÙŠØ¹Ù…Ù„ Ø¨ÙƒØ§Ù…Ù„ ÙˆØ¸Ø§Ø¦ÙÙ‡ Ø¨Ø¯ÙˆÙ† Ø¥Ù†ØªØ±Ù†Øª
- SQLite Ù‡ÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
- MongoDB Ù„Ù„Ù…Ø²Ø§Ù…Ù†Ø© ÙÙ‚Ø·

### 2. Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©
- ØªÙ„Ù‚Ø§Ø¦ÙŠØ© Ø¹Ù†Ø¯ ØªÙˆÙØ± Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª
- ØªØ¯Ø¹Ù… Ø­Ù„ Ø§Ù„ØªØ¹Ø§Ø±Ø¶Ø§Øª Ø§Ù„Ø°ÙƒÙŠ
- ØªØ³Ø¬Ù„ Ø§Ù„ØªØ¹Ø§Ø±Ø¶Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø³Ø© Ù„Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©

### 3. Ø§Ù„Ø£Ù…Ø§Ù†
- ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ± Ù…Ø´ÙØ±Ø© (hashed)
- ØµÙ„Ø§Ø­ÙŠØ§Øª Ø­Ø³Ø¨ Ø§Ù„Ø¯ÙˆØ±
- ØªØ³Ø¬ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª

### 4. Ø§Ù„Ø£Ø¯Ø§Ø¡
- Cache Ø°ÙƒÙŠ Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ØªÙƒØ±Ø±Ø©
- Indexes Ù…Ø­Ø³Ù‘Ù†Ø©
- Background threading Ù„Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø«Ù‚ÙŠÙ„Ø©

---

## ğŸ“ Ø§Ù„Ø¯Ø¹Ù…

- **Ø§Ù„Ù…ÙˆÙ‚Ø¹:** https://skywave.agency
- **Ø§Ù„Ø¨Ø±ÙŠØ¯:** dev@skywave.agency
- **Ø§Ù„Ø¥ØµØ¯Ø§Ø±:** 1.0.3
- **ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ­Ø¯ÙŠØ«:** 2025-12-06


---

## ğŸ¯ Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„ØªÙØµÙŠÙ„ÙŠØ© (Services Layer)

### 1. AccountingService - Ø§Ù„Ø±ÙˆØ¨ÙˆØª Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ ğŸ¤–

**Ø§Ù„Ù…Ù„Ù:** `services/accounting_service.py`

Ù‡Ø°Ù‡ Ø§Ù„Ø®Ø¯Ù…Ø© Ù‡ÙŠ "Ø§Ù„Ø±ÙˆØ¨ÙˆØª Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ" Ø§Ù„Ø°ÙŠ ÙŠØ¹Ù…Ù„ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ ÙÙŠ Ø§Ù„Ø®Ù„ÙÙŠØ©. ÙŠØ³ØªÙ…Ø¹ Ù„Ù„Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ù…Ø§Ù„ÙŠØ© ÙˆÙŠÙ†Ø´Ø¦ Ø§Ù„Ù‚ÙŠÙˆØ¯ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠØ© Ø¨Ø¯ÙˆÙ† ØªØ¯Ø®Ù„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù….

#### Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª (Enterprise 6-Digit System)

```python
# Ø§Ù„Ø£ØµÙˆÙ„ (1xxxxx)
ACC_RECEIVABLE_CODE = "112100"    # Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ - Ø°Ù…Ù… Ù…Ø¯ÙŠÙ†Ø©
CASH_ACCOUNT_CODE = "111101"      # Ø§Ù„Ø®Ø²Ù†Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©

# Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª (4xxxxx)
SERVICE_REVENUE_CODE = "410100"   # Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ø§Ù„ØªØ³ÙˆÙŠÙ‚ Ø§Ù„Ø±Ù‚Ù…ÙŠ

# Ø§Ù„Ø®ØµÙˆÙ… (2xxxxx)
VAT_PAYABLE_CODE = "212200"       # Ø¶Ø±ÙŠØ¨Ø© Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø¶Ø§ÙØ©
UNEARNED_REVENUE_CODE = "212100"  # Ø¯ÙØ¹Ø§Øª Ù…Ù‚Ø¯Ù…Ø©

# ØªÙƒØ§Ù„ÙŠÙ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª (5xxxxx) - COGS
COGS_ADS_CODE = "510001"          # Ù…ÙŠØ²Ø§Ù†ÙŠØ© Ø¥Ø¹Ù„Ø§Ù†Ø§Øª
COGS_HOSTING_CODE = "510002"      # ØªÙƒÙ„ÙØ© Ø§Ø³ØªØ¶Ø§ÙØ©

# Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª Ø§Ù„ØªØ´ØºÙŠÙ„ÙŠØ© (6xxxxx) - OPEX
OPEX_SALARIES_CODE = "620001"     # Ø±ÙˆØ§ØªØ¨
OPEX_RENT_CODE = "620002"         # Ø¥ÙŠØ¬Ø§Ø±
```

#### Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ø§Ù„ØªÙŠ ÙŠØ³ØªÙ…Ø¹ Ù„Ù‡Ø§

| Ø§Ù„Ø­Ø¯Ø« | Ø§Ù„Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ |
|-------|----------------|
| `PROJECT_CREATED` | Ù…Ø¯ÙŠÙ†: Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ØŒ Ø¯Ø§Ø¦Ù†: Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª |
| `PAYMENT_RECEIVED` | Ù…Ø¯ÙŠÙ†: Ø§Ù„Ø¨Ù†Ùƒ/Ø§Ù„Ø®Ø²ÙŠÙ†Ø©ØŒ Ø¯Ø§Ø¦Ù†: Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ |
| `EXPENSE_CREATED` | Ù…Ø¯ÙŠÙ†: Ø§Ù„Ù…ØµØ±ÙˆÙØŒ Ø¯Ø§Ø¦Ù†: Ø§Ù„Ø¨Ù†Ùƒ/Ø§Ù„Ø®Ø²ÙŠÙ†Ø© |
| `INVOICE_VOIDED` | Ø¹ÙƒØ³ Ù‚ÙŠØ¯ Ø§Ù„ÙØ§ØªÙˆØ±Ø© |

#### Ø§Ù„Ø¯ÙˆØ§Ù„ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©

```python
class AccountingService:
    def handle_new_project(self, data):
        """Ø¥Ù†Ø´Ø§Ø¡ Ù‚ÙŠØ¯ ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¹Ù†Ø¯ Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø´Ø±ÙˆØ¹"""
        
    def handle_new_payment(self, data):
        """Ø¥Ù†Ø´Ø§Ø¡ Ù‚ÙŠØ¯ ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¹Ù†Ø¯ Ø§Ø³ØªÙ„Ø§Ù… Ø¯ÙØ¹Ø©"""
        
    def handle_new_expense(self, data):
        """Ø¥Ù†Ø´Ø§Ø¡ Ù‚ÙŠØ¯ ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¹Ù†Ø¯ ØªØ³Ø¬ÙŠÙ„ Ù…ØµØ±ÙˆÙ"""
        
    def get_hierarchy_with_balances(self):
        """Ø¬Ù„Ø¨ Ø´Ø¬Ø±Ø© Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ù…Ø¹ Ø§Ù„Ø£Ø±ØµØ¯Ø© Ø§Ù„ØªØ±Ø§ÙƒÙ…ÙŠØ©"""
        
    def get_financial_summary(self):
        """Ù…Ù„Ø®Øµ Ù…Ø§Ù„ÙŠ: Ø£ØµÙˆÙ„ØŒ Ø®ØµÙˆÙ…ØŒ Ø¥ÙŠØ±Ø§Ø¯Ø§ØªØŒ Ù…ØµØ±ÙˆÙØ§ØªØŒ ØµØ§ÙÙŠ Ø§Ù„Ø±Ø¨Ø­"""
        
    def recalculate_all_balances(self):
        """Ø¥Ø¹Ø§Ø¯Ø© Ø­Ø³Ø§Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø±ØµØ¯Ø© Ù…Ù† Ø§Ù„Ù‚ÙŠÙˆØ¯"""
```

---

### 2. ProjectService - Ø®Ø¯Ù…Ø© Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ ğŸ¢

**Ø§Ù„Ù…Ù„Ù:** `services/project_service.py`

Ø®Ø¯Ù…Ø© Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ Ø¨Ù…Ø³ØªÙˆÙ‰ EnterpriseØŒ ØªØ¯Ø¹Ù…:
- Ø§Ù„ØªÙƒÙˆÙŠØ¯ Ø§Ù„Ø°ÙƒÙŠ (Smart Coding)
- ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø±Ø¨Ø­ÙŠØ© (Profitability Analysis)
- Ø§Ù„Ø¯ÙØ¹Ø§Øª Ø§Ù„Ù…Ø±Ø­Ù„ÙŠØ© (Milestones)
- Ø§Ù„Ø¹Ù‚ÙˆØ¯ Ø§Ù„Ù…ØªÙƒØ±Ø±Ø© (Retainer)

#### Ø§Ù„ØªÙƒÙˆÙŠØ¯ Ø§Ù„Ø°ÙƒÙŠ

```python
def generate_smart_project_code(self, client_name, service_type):
    """
    ØªÙˆÙ„ÙŠØ¯ ÙƒÙˆØ¯ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
    Format: [YEAR]-[TYPE]-[CLIENT]-[SEQ]
    Example: 2025-SEO-SKY-001
    """
```

#### ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø±Ø¨Ø­ÙŠØ©

```python
def calculate_project_profitability(self, project):
    """
    Returns:
        total_revenue: Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª
        total_cost: Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ØªÙƒÙ„ÙØ©
        net_profit: ØµØ§ÙÙŠ Ø§Ù„Ø±Ø¨Ø­
        margin_percent: Ù†Ø³Ø¨Ø© Ù‡Ø§Ù…Ø´ Ø§Ù„Ø±Ø¨Ø­
        health_status: excellent/good/warning
    """
```

#### ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ

```python
def _auto_update_project_status(self, project_name):
    """
    ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ø¯ÙØ¹Ø§Øª:
    - PLANNING: Ù„Ù… ÙŠØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø£ÙŠ Ø¯ÙØ¹Ø©
    - ACTIVE: ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø¯ÙØ¹Ø© Ø¬Ø²Ø¦ÙŠØ©
    - COMPLETED: ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… ÙƒØ§Ù…Ù„ Ø§Ù„Ù…Ø¨Ù„Øº
    """
```

---

### 3. ClientService - Ø®Ø¯Ù…Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ ğŸ‘¥

**Ø§Ù„Ù…Ù„Ù:** `services/client_service.py`

```python
class ClientService:
    def get_all_clients(self):
        """Ø¬Ù„Ø¨ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø§Ù„Ù†Ø´Ø·ÙŠÙ† (Ù…Ø¹ cache)"""
        
    def create_client(self, client_data):
        """Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù…ÙŠÙ„ Ø¬Ø¯ÙŠØ¯"""
        
    def update_client(self, client_id, new_data):
        """ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ù…ÙŠÙ„"""
        
    def delete_client(self, client_id):
        """Ø£Ø±Ø´ÙØ© Ø¹Ù…ÙŠÙ„ (Soft Delete)"""
        
    def search_clients(self, query, fields, limit):
        """Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡"""
        
    def get_client_statistics(self):
        """Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡"""
```

---

### 4. Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ø®Ø¯Ù…Ø§Øª

| Ø§Ù„Ø®Ø¯Ù…Ø© | Ø§Ù„Ù…Ù„Ù | Ø§Ù„ÙˆØ¸ÙŠÙØ© |
|--------|-------|---------|
| `InvoiceService` | `invoice_service.py` | Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙÙˆØ§ØªÙŠØ± |
| `ExpenseService` | `expense_service.py` | Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª |
| `QuotationService` | `quotation_service.py` | Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø£Ø³Ø¹Ø§Ø± |
| `NotificationService` | `notification_service.py` | Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª |
| `PrintingService` | `printing_service.py` | Ø§Ù„Ø·Ø¨Ø§Ø¹Ø© |
| `ExportService` | `export_service.py` | Ø§Ù„ØªØµØ¯ÙŠØ± (PDF, Excel) |
| `TemplateService` | `template_service.py` | Ù‚ÙˆØ§Ù„Ø¨ Ø§Ù„ÙÙˆØ§ØªÙŠØ± (Jinja2) |
| `SettingsService` | `settings_service.py` | Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª |
| `SmartScanService` | `smart_scan_service.py` | Ù…Ø³Ø­ Ø§Ù„ÙÙˆØ§ØªÙŠØ± Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ |

---

## ğŸ”„ ØªØ¯ÙÙ‚ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (Data Flow)

### 1. Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø´Ø±ÙˆØ¹ Ø¬Ø¯ÙŠØ¯

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    User creates project                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ProjectService.create_project()                                 â”‚
â”‚  â”œâ”€ Generate smart code (2025-SEO-SKY-001)                      â”‚
â”‚  â”œâ”€ Calculate totals (subtotal, discount, tax)                  â”‚
â”‚  â”œâ”€ Calculate profitability                                      â”‚
â”‚  â””â”€ Save to SQLite (sync_status='new_offline')                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  EventBus.publish('PROJECT_CREATED')                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â–¼                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AccountingService      â”‚     â”‚  SyncManager            â”‚
â”‚  â”œâ”€ Create journal entryâ”‚     â”‚  â””â”€ Add to sync_queue   â”‚
â”‚  â”‚   Dr: Receivables    â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚  â”‚   Cr: Revenue        â”‚
â”‚  â””â”€ Update balances     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AppSignals.projects_changed.emit()                             â”‚
â”‚  â””â”€ UI refreshes automatically                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. Ø§Ø³ØªÙ„Ø§Ù… Ø¯ÙØ¹Ø©

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    User records payment                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ProjectService.create_payment_for_project()                    â”‚
â”‚  â”œâ”€ Save payment to SQLite                                      â”‚
â”‚  â””â”€ Publish 'PAYMENT_RECEIVED' event                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â–¼                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AccountingService      â”‚     â”‚  ProjectService         â”‚
â”‚  â”œâ”€ Create journal entryâ”‚     â”‚  â””â”€ Auto-update status  â”‚
â”‚  â”‚   Dr: Bank/Cash      â”‚     â”‚      PLANNING â†’ ACTIVE  â”‚
â”‚  â”‚   Cr: Receivables    â”‚     â”‚      or COMPLETED       â”‚
â”‚  â””â”€ Update balances     â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ù…Ø¹ Ø§Ù„Ø³Ø­Ø§Ø¨Ø©

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ConnectionChecker detects: ONLINE                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SmartSyncManager.full_smart_sync()                             â”‚
â”‚  â”œâ”€ For each table (accounts, clients, projects, ...)          â”‚
â”‚  â”‚   â””â”€ smart_pull_and_merge(table)                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  For each cloud record:                                         â”‚
â”‚  â”œâ”€ Find local record (by _mongo_id or unique field)           â”‚
â”‚  â”œâ”€ ConflictResolver.detect_and_resolve()                       â”‚
â”‚  â”‚   â”œâ”€ Compare fields                                          â”‚
â”‚  â”‚   â”œâ”€ If non-critical â†’ Auto merge (LWW)                     â”‚
â”‚  â”‚   â””â”€ If critical (amount, items) â†’ Log for review           â”‚
â”‚  â””â”€ Apply merged data                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Results:                                                        â”‚
â”‚  â”œâ”€ synced: 150 records                                         â”‚
â”‚  â”œâ”€ auto_merged: 5 conflicts                                    â”‚
â”‚  â””â”€ pending_review: 2 critical conflicts                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªÙØµÙŠÙ„ÙŠØ© (Schemas)

### Project (Ø§Ù„Ù…Ø´Ø±ÙˆØ¹)

```python
class Project(BaseSchema):
    # Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
    name: str                    # Ø§Ø³Ù… Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ (ÙØ±ÙŠØ¯)
    client_id: str               # Ù…Ø¹Ø±Ù Ø§Ù„Ø¹Ù…ÙŠÙ„
    status: ProjectStatus        # PLANNING, ACTIVE, COMPLETED, ARCHIVED
    status_manually_set: bool    # Ù‡Ù„ Ø§Ù„Ø­Ø§Ù„Ø© Ù…Ø¹ÙŠÙ†Ø© ÙŠØ¯ÙˆÙŠØ§Ù‹ØŸ
    
    # Ø§Ù„Ø¨Ù†ÙˆØ¯ ÙˆØ§Ù„Ø­Ø³Ø§Ø¨Ø§Øª
    items: List[ProjectItem]     # Ø¨Ù†ÙˆØ¯ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹
    subtotal: float              # Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ù‚Ø¨Ù„ Ø§Ù„Ø®ØµÙ…
    discount_rate: float         # Ù†Ø³Ø¨Ø© Ø§Ù„Ø®ØµÙ… %
    discount_amount: float       # Ù…Ø¨Ù„Øº Ø§Ù„Ø®ØµÙ…
    tax_rate: float              # Ù†Ø³Ø¨Ø© Ø§Ù„Ø¶Ø±ÙŠØ¨Ø© %
    tax_amount: float            # Ù…Ø¨Ù„Øº Ø§Ù„Ø¶Ø±ÙŠØ¨Ø©
    total_amount: float          # Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ
    
    # Enterprise Features
    project_code: str            # ÙƒÙˆØ¯ Ø°ÙƒÙŠ (2025-SEO-SKY-001)
    invoice_number: str          # Ø±Ù‚Ù… Ø§Ù„ÙØ§ØªÙˆØ±Ø© Ø§Ù„Ø«Ø§Ø¨Øª
    milestones: List[Milestone]  # Ø§Ù„Ø¯ÙØ¹Ø§Øª Ø§Ù„Ù…Ø±Ø­Ù„ÙŠØ©
    
    # ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø±Ø¨Ø­ÙŠØ©
    total_estimated_cost: float  # Ø§Ù„ØªÙƒÙ„ÙØ© Ø§Ù„ØªÙ‚Ø¯ÙŠØ±ÙŠØ©
    estimated_profit: float      # Ø§Ù„Ø±Ø¨Ø­ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹
    profit_margin: float         # Ù‡Ø§Ù…Ø´ Ø§Ù„Ø±Ø¨Ø­ %
    
    # Ø§Ù„Ø¹Ù‚ÙˆØ¯ Ø§Ù„Ù…ØªÙƒØ±Ø±Ø©
    contract_type: ContractType  # ONE_TIME, RETAINER
    renewal_cycle: RenewalCycle  # MONTHLY, QUARTERLY, YEARLY
    next_renewal_date: datetime  # ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ¬Ø¯ÙŠØ¯ Ø§Ù„Ù‚Ø§Ø¯Ù…
```

### JournalEntry (Ø§Ù„Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ)

```python
class JournalEntry(BaseSchema):
    date: datetime               # ØªØ§Ø±ÙŠØ® Ø§Ù„Ù‚ÙŠØ¯
    description: str             # ÙˆØµÙ Ø§Ù„Ù‚ÙŠØ¯
    lines: List[JournalEntryLine]  # Ø£Ø³Ø·Ø± Ø§Ù„Ù‚ÙŠØ¯
    reference_type: str          # Ù†ÙˆØ¹ Ø§Ù„Ù…Ø±Ø¬Ø¹ (project, expense, payment)
    reference_id: str            # Ù…Ø¹Ø±Ù Ø§Ù„Ù…Ø±Ø¬Ø¹
    is_balanced: bool            # Ù‡Ù„ Ø§Ù„Ù‚ÙŠØ¯ Ù…ØªÙˆØ§Ø²Ù†ØŸ
    total_debit: float           # Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¯ÙŠÙ†
    total_credit: float          # Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¯Ø§Ø¦Ù†

class JournalEntryLine(BaseModel):
    account_id: str              # Ù…Ø¹Ø±Ù Ø§Ù„Ø­Ø³Ø§Ø¨
    account_code: str            # ÙƒÙˆØ¯ Ø§Ù„Ø­Ø³Ø§Ø¨
    account_name: str            # Ø§Ø³Ù… Ø§Ù„Ø­Ø³Ø§Ø¨
    debit: float                 # Ù…Ø¯ÙŠÙ†
    credit: float                # Ø¯Ø§Ø¦Ù†
    description: str             # ÙˆØµÙ Ø§Ù„Ø³Ø·Ø±
```

---

## ğŸ” Ù†Ø¸Ø§Ù… Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª

### Ø§Ù„Ø£Ø¯ÙˆØ§Ø± (Roles)

| Ø§Ù„Ø¯ÙˆØ± | Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª |
|-------|----------|
| `admin` | ÙƒÙ„ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª |
| `accountant` | Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø©ØŒ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±ØŒ Ø§Ù„Ù‚ÙŠÙˆØ¯ |
| `sales` | Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ØŒ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ØŒ Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø£Ø³Ø¹Ø§Ø± |
| `viewer` | Ø¹Ø±Ø¶ ÙÙ‚Ø· |

### Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª

```python
# ÙÙŠ Ø§Ù„ÙƒÙˆØ¯
if auth_service.check_permission(current_user, 'create_project'):
    # Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø´Ø±ÙˆØ¹
```

---

## ğŸ› ï¸ Ø£ÙˆØ§Ù…Ø± Ø§Ù„ØªØ´ØºÙŠÙ„ ÙˆØ§Ù„Ø¨Ù†Ø§Ø¡

### Ø§Ù„ØªØ´ØºÙŠÙ„ Ù„Ù„ØªØ·ÙˆÙŠØ±
```bash
# ØªØ«Ø¨ÙŠØª Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª
pip install -r requirements.txt

# ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
python main.py
```

### Ø¨Ù†Ø§Ø¡ Executable
```bash
# Ø¨Ù†Ø§Ø¡ Ù…Ù„Ù ÙˆØ§Ø­Ø¯
pyinstaller SkyWaveERP.spec

# Ø¨Ù†Ø§Ø¡ Ù…Ø¬Ù„Ø¯
pyinstaller SkyWaveERP_onedir.spec
```

### Ø¥Ù†Ø´Ø§Ø¡ Installer
```bash
# Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Inno Setup
iscc SkyWaveERP_Setup.iss
```

### Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª
```bash
# ØªØ´ØºÙŠÙ„ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª
pytest tests/ -v

# Ù…Ø¹ ØªØºØ·ÙŠØ© Ø§Ù„ÙƒÙˆØ¯
pytest tests/ --cov=core --cov=services --cov-report=html
```

---

## ğŸ“ Ù…Ù„ÙØ§Øª Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª

### skywave_settings.json
```json
{
    "company_name": "Sky Wave Agency",
    "company_logo": "logo.png",
    "default_currency": "EGP",
    "tax_rate": 14.0,
    "invoice_prefix": "SW-",
    "theme": "dark"
}
```

### version.json
```json
{
    "version": "1.0.3",
    "release_date": "2025-12-06",
    "url": "https://github.com/.../SkyWave-Setup-1.0.3.exe",
    "changelog": ["Fix invoice numbers", "Improve sync"]
}
```

---

## ğŸ› Ø§Ø³ØªÙƒØ´Ø§Ù Ø§Ù„Ø£Ø®Ø·Ø§Ø¡

### Ù…Ø´Ø§ÙƒÙ„ Ø´Ø§Ø¦Ø¹Ø©

| Ø§Ù„Ù…Ø´ÙƒÙ„Ø© | Ø§Ù„Ø­Ù„ |
|---------|------|
| Ø´Ø§Ø´Ø© Ø¨ÙŠØ¶Ø§Ø¡ Ø¹Ù†Ø¯ Ø§Ù„Ø¨Ø¯Ø¡ | ØªØ£ÙƒØ¯ Ù…Ù† ØªØ«Ø¨ÙŠØª PyQt6-WebEngine |
| ÙØ´Ù„ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© | ØªØ­Ù‚Ù‚ Ù…Ù† Ø§ØªØµØ§Ù„ Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª Ùˆ MongoDB |
| Ø£Ø±ØµØ¯Ø© ØºÙŠØ± ØµØ­ÙŠØ­Ø© | Ø§Ø³ØªØ®Ø¯Ù… `recalculate_all_balances()` |
| ØªÙƒØ±Ø§Ø± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª | ØªØ­Ù‚Ù‚ Ù…Ù† `_mongo_id` Ùˆ `sync_status` |

### Ù…Ù„ÙØ§Øª Ø§Ù„Ø³Ø¬Ù„Ø§Øª
```
logs/skywave_erp.log
```

---

## ğŸ“ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„

- **Ø§Ù„Ù…ÙˆÙ‚Ø¹:** https://skywave.agency
- **Ø§Ù„Ø¨Ø±ÙŠØ¯:** dev@skywave.agency
- **GitHub:** https://github.com/ireda8041-lab/SkyWaveERB
