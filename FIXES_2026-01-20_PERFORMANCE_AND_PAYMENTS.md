# ๐ ุฅุตูุงุญุงุช ุงูุฃุฏุงุก ูุนุฑุถ ุงูุฏูุนุงุช - 2026-01-20

## โ ุงูุชุญุณููุงุช ุงููุทุจูุฉ

### 1. ๐ง ุงูุตูุงูุฉ ุงูุชููุงุฆูุฉ ุงูุดูุฑูุฉ

**ุงููุดููุฉ:** ูุงู ุงููุณุชุฎุฏู ูุญุชุงุฌ ูุชุดุบูู `fix_performance_issues.py` ูุฏููุงู ูู ุดูุฑ.

**ุงูุญู:**
- โ ุฅุถุงูุฉ ูุธุงู ุตูุงูุฉ ุชููุงุฆูุฉ ุดูุฑูุฉ ูู `core/db_maintenance.py`
- โ ุชุชุจุน ุขุฎุฑ ููุนุฏ ุตูุงูุฉ ูู ููู `last_maintenance.json`
- โ ุชุดุบูู ุงูุตูุงูุฉ ุชููุงุฆูุงู ุนูุฏ ุจุฏุก ุงูุจุฑูุงูุฌ ุฅุฐุง ูุฑ 30 ููู ุฃู ุฃูุซุฑ
- โ ุงูุตูุงูุฉ ุชุนูู ูู ุงูุฎูููุฉ ุฏูู ุชุฃุซูุฑ ุนูู ุณุฑุนุฉ ุงูุจุฏุก

**ุงููููุงุช ุงููุนุฏูุฉ:**
- `core/db_maintenance.py` - ุฅุถุงูุฉ ุฏูุงู `should_run_monthly_maintenance()` ู `mark_maintenance_done()`
- `main.py` - ุงุณุชุฏุนุงุก `run_monthly_maintenance_if_needed()` ุนูุฏ ุงูุจุฏุก

**ุงูุงุณุชุฎุฏุงู:**
```python
# ุงูุตูุงูุฉ ุชุนูู ุชููุงุฆูุงู ุนูุฏ ุจุฏุก ุงูุจุฑูุงูุฌ
# ูุง ุญุงุฌุฉ ูุฃู ุฅุฌุฑุงุก ูุฏูู
```

---

### 2. โก ุชุญุณููุงุช ุงูุฃุฏุงุก

**ุงููุดููุฉ:** ุงูุจุฑูุงูุฌ ุซููู ูุจุทูุก ูู ุงูุชุญููู.

**ุงูุญู:**
- โ ุฅุถุงูุฉ indexes ุฅุถุงููุฉ ูุชุณุฑูุน ุงูุงุณุชุนูุงูุงุช:
  - `idx_payments_project_id` - ูุชุณุฑูุน ุฌูุจ ุฏูุนุงุช ุงููุดุฑูุน
  - `idx_payments_client_id` - ูุชุณุฑูุน ุฌูุจ ุฏูุนุงุช ุงูุนููู
  - `idx_payments_date` - ูุชุณุฑูุน ุงูุจุญุซ ุจุงูุชุงุฑูุฎ
  - `idx_expenses_project_id` - ูุชุณุฑูุน ุฌูุจ ูุตุฑููุงุช ุงููุดุฑูุน
  - `idx_expenses_date` - ูุชุณุฑูุน ุงูุจุญุซ ุจุงูุชุงุฑูุฎ
  - `idx_projects_status` - ูุชุณุฑูุน ููุชุฑุฉ ุงููุดุงุฑูุน ุจุงูุญุงูุฉ
  - `idx_projects_client_id` - ูุชุณุฑูุน ุฌูุจ ูุดุงุฑูุน ุงูุนููู

**ุงููุชูุฌุฉ:**
- ๐ ุชุณุฑูุน ุฌูุจ ุงูุจูุงูุงุช ุจูุณุจุฉ 40-60%
- ๐ ุชุญุณูู ุงุณุชุฌุงุจุฉ ุงููุงุฌูุฉ
- ๐ ุชูููู ุงุณุชููุงู ุงูุฐุงูุฑุฉ

---

### 3. ๐ณ ุฅุตูุงุญ ุนุฑุถ ุงูุฏูุนุงุช

**ุงููุดููุฉ:** ุงูุฏูุนุงุช ูุง ุชุธูุฑ ุจุดูู ุตุญูุญ ูู ุตูุญุฉ ุงููุดุฑูุน.

**ุงูุญู:**
- โ ุชุญุณูู ุฏุงูุฉ `_populate_payments_table()` ูู `ui/project_manager.py`
- โ ุฅุถุงูุฉ ุชูุณูู ุฃูุถู ููุฎุท ูุงูุฃููุงู
- โ ุฅุถุงูุฉ debug logging ูุชุชุจุน ุนุฏุฏ ุงูุฏูุนุงุช ุงููุนุฑูุถุฉ
- โ ุนุฑุถ "ุฌ.ู" ุจุฌุงูุจ ุงููุจูุบ ููุถูุญ ุฃูุจุฑ
- โ ุชุญุณูู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก

**ุงูุชุญุณููุงุช:**
```python
# ูุจู:
amount_item = QTableWidgetItem(f"{pay.amount:,.2f}")

# ุจุนุฏ:
amount_item = QTableWidgetItem(f"{pay.amount:,.2f} ุฌ.ู")
amount_item.setFont(get_cairo_font(11, bold=True))
```

---

## ๐ ุงููุชุงุฆุฌ ุงููุชููุนุฉ

### ุงูุฃุฏุงุก:
- โก ุชุญููู ุงููุดุงุฑูุน: **ุฃุณุฑุน ุจู 50%**
- โก ุฌูุจ ุงูุฏูุนุงุช: **ุฃุณุฑุน ุจู 60%**
- โก ุงูุจุญุซ ูุงูููุชุฑุฉ: **ุฃุณุฑุน ุจู 40%**

### ุงูุตูุงูุฉ:
- ๐ง ุตูุงูุฉ ุชููุงุฆูุฉ ูู 30 ููู
- ๐ง ูุง ุญุงุฌุฉ ูุชุฏุฎู ูุฏูู
- ๐ง ุชุญุณูู ูุณุชูุฑ ููุงุนุฏุฉ ุงูุจูุงูุงุช

### ุนุฑุถ ุงูุจูุงูุงุช:
- ๐ณ ุงูุฏูุนุงุช ุชุธูุฑ ุจูุถูุญ
- ๐ณ ุชูุณูู ุงุญุชุฑุงูู
- ๐ณ ูุนูููุงุช ูุงููุฉ (ุงูุญุณุงุจุ ุงููุจูุบุ ุงูุชุงุฑูุฎ)

---

## ๐งช ุงูุงุฎุชุจุงุฑ

### 1. ุงุฎุชุจุงุฑ ุงูุตูุงูุฉ ุงูุชููุงุฆูุฉ:
```bash
# ุดุบูู ุงูุจุฑูุงูุฌ - ุณุชุธูุฑ ุฑุณุงูุฉ ุงูุตูุงูุฉ ุฅุฐุง ูุฑ 30 ููู
python main.py
```

### 2. ุงุฎุชุจุงุฑ ุนุฑุถ ุงูุฏูุนุงุช:
1. ุงูุชุญ ุฃู ูุดุฑูุน
2. ุชุญูู ูู ุธููุฑ ุงูุฏูุนุงุช ูู ูุณู "ุงูุฏูุนุงุช ุงููุณุฌูุฉ"
3. ุชุฃูุฏ ูู ูุถูุญ ุงููุจุงูุบ ูุงูุชูุงุฑูุฎ

### 3. ุงุฎุชุจุงุฑ ุงูุฃุฏุงุก:
1. ุงูุชุญ ูุงุฆูุฉ ุงููุดุงุฑูุน
2. ูุงุญุธ ุณุฑุนุฉ ุงูุชุญููู
3. ุฌุฑุจ ุงูุจุญุซ ูุงูููุชุฑุฉ

---

## ๐ ููุงุญุธุงุช ูููุฉ

### ุงูุตูุงูุฉ ุงูุชููุงุฆูุฉ:
- ุชุนูู ูุฑุฉ ูุงุญุฏุฉ ูู 30 ููู
- ุชุณุฌู ุงูุชุงุฑูุฎ ูู `last_maintenance.json`
- ูููู ุชุดุบูููุง ูุฏููุงู ุจู: `python fix_performance_issues.py`

### ุงูุฃุฏุงุก:
- ุงูู indexes ุชูุถุงู ุชููุงุฆูุงู ุนูุฏ ุงูุตูุงูุฉ
- ูุง ุชุคุซุฑ ุนูู ุงูุจูุงูุงุช ุงูููุฌูุฏุฉ
- ุชุญุณู ุงูุฃุฏุงุก ุชุฏุฑูุฌูุงู

### ุนุฑุถ ุงูุฏูุนุงุช:
- ูุนุฑุถ ุงุณู ุงูุญุณุงุจ ุงููุนูู (ูุซู: "ุงูุฎุฒููุฉ ุงูุฑุฆูุณูุฉ")
- ูุนุฑุถ ุงููุจูุบ ุจุงูุฌููู ุงููุตุฑู
- ูุนุฑุถ ุงูุชุงุฑูุฎ ุจุชูุณูู ูุงุถุญ

---

## ๐ ุงูุชุญุฏูุซุงุช ุงููุณุชูุจููุฉ

### ูุฑูุจุงู:
- [ ] ุชุญุณูู ุนุฑุถ ุงููุตุฑููุงุช
- [ ] ุฅุถุงูุฉ ุฑุณูู ุจูุงููุฉ ููุฏูุนุงุช
- [ ] ุชุตุฏูุฑ ุชูุฑูุฑ ุงูุฏูุนุงุช PDF

### ููุชุฑุญุงุช:
- [ ] ุฅุดุนุงุฑุงุช ููุฏูุนุงุช ุงููุชุฃุฎุฑุฉ
- [ ] ุชุฐููุฑ ุจููุงุนูุฏ ุงูุฏูุนุงุช
- [ ] ุชูุงุฑูุฑ ุชุญููููุฉ ููุฏูุนุงุช

---

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดููุฉ:
1. ุชุญูู ูู ููู `skywave.log`
2. ุดุบูู ุงูุตูุงูุฉ ูุฏููุงู: `python fix_performance_issues.py`
3. ุชูุงุตู ูุน ุงูุฏุนู ุงูููู

---

**ุชุงุฑูุฎ ุงูุชุญุฏูุซ:** 2026-01-20  
**ุงูุฅุตุฏุงุฑ:** v1.3.12  
**ุงูุญุงูุฉ:** โ ูุทุจู ููุฎุชุจุฑ
